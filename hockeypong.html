<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Neon Hockey Pong</title>
  <style>
    body {
      margin: 0;
      background: #000014; /* dark navy base */
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: 'Poppins', sans-serif;
    }
    header {
      color: #fff;
      font-size: 24px;
      font-weight: bold;
      margin: 20px 0;
      text-shadow: 0 0 10px #0ff, 0 0 20px #f0f;
    }
    canvas {
      border: 4px solid #0ff;
      box-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
      border-radius: 12px;
    }
    .scoreboard {
      color: #fff;
      font-size: 26px;
      margin: 15px 0;
      text-shadow: 0 0 10px #f0f, 0 0 20px #0ff;
    }
    .btn {
      background: #f0f;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 15px #f0f, 0 0 30px #0ff;
    }
    .btn:hover {
      background: #0ff;
      box-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
    }
  </style>
</head>
<body>
  <header>üèí Hockey Pong</header>
  <canvas id="gameCanvas" width="900" height="500"></canvas>
  <div class="scoreboard" id="score">0 ‚Äî 0</div>
  <button class="btn" id="playAgain">Play Again</button>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const scoreDisplay = document.getElementById("score");

    // Game state
    let player = { x: 40, y: canvas.height/2 - 50, w: 15, h: 100, dy: 0 };
    let ai = { x: canvas.width - 55, y: canvas.height/2 - 50, w: 15, h: 100, speed: 4 };
    let puck = { x: canvas.width/2, y: canvas.height/2, r: 10, dx: 5, dy: 4, trail: [] };

    let playerScore = 0, aiScore = 0, maxScore = 5;
    let gameOver = false;

    // Confetti particles
    let confetti = [];

    function createConfetti() {
      for (let i = 0; i < 100; i++) {
        confetti.push({
          x: Math.random() * canvas.width,
          y: -10,
          size: Math.random() * 6 + 4,
          color: ["#f0f","#0ff","#ff0","#0f0","#f80","#fff"][Math.floor(Math.random()*6)],
          speedY: Math.random() * 4 + 2,
          speedX: (Math.random() - 0.5) * 2,
          rotation: Math.random() * 360,
          rotationSpeed: (Math.random() - 0.5) * 10
        });
      }
    }

    function drawConfetti() {
      confetti.forEach((c) => {
        ctx.save();
        ctx.translate(c.x, c.y);
        ctx.rotate(c.rotation * Math.PI/180);
        ctx.fillStyle = c.color;
        ctx.fillRect(-c.size/2, -c.size/2, c.size, c.size);
        ctx.restore();

        c.y += c.speedY;
        c.x += c.speedX;
        c.rotation += c.rotationSpeed;
      });

      // remove offscreen confetti
      confetti = confetti.filter(c => c.y < canvas.height + 20);
    }

    function resetPuck() {
      puck.x = canvas.width/2;
      puck.y = canvas.height/2;
      puck.dx = (Math.random() > 0.5 ? 5 : -5);
      puck.dy = (Math.random() > 0.5 ? 4 : -4);
      puck.trail = [];
    }

    function drawRink() {
      ctx.fillStyle = "#000014";
      ctx.fillRect(0,0,canvas.width,canvas.height);

      // center line
      ctx.strokeStyle = "#0ff";
      ctx.lineWidth = 3;
      ctx.setLineDash([10,10]);
      ctx.beginPath();
      ctx.moveTo(canvas.width/2,0);
      ctx.lineTo(canvas.width/2,canvas.height);
      ctx.stroke();
      ctx.setLineDash([]);

      // center circle
      ctx.strokeStyle = "#f0f";
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.arc(canvas.width/2, canvas.height/2, 70, 0, Math.PI*2);
      ctx.stroke();
    }

    function drawObjects() {
      // paddles
      ctx.shadowBlur = 20;
      ctx.shadowColor = "#f0f";
      ctx.fillStyle = "#f0f";
      ctx.fillRect(player.x, player.y, player.w, player.h);

      ctx.shadowColor = "#0ff";
      ctx.fillStyle = "#0ff";
      ctx.fillRect(ai.x, ai.y, ai.w, ai.h);

      // puck trail
      ctx.shadowColor = "#fff";
      ctx.shadowBlur = 15;
      puck.trail.forEach((pos, i) => {
        ctx.fillStyle = `rgba(255,255,255,${0.3 - i*0.05})`;
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, puck.r, 0, Math.PI*2);
        ctx.fill();
      });

      ctx.fillStyle = "#fff";
      ctx.beginPath();
      ctx.arc(puck.x, puck.y, puck.r, 0, Math.PI*2);
      ctx.fill();

      ctx.shadowBlur = 0;
    }

    function update() {
      if(gameOver) return;

      // move player
      player.y += player.dy;
      if(player.y < 0) player.y = 0;
      if(player.y + player.h > canvas.height) player.y = canvas.height - player.h;

      // move AI
      let target = puck.y - ai.h/2;
      if(ai.y < target) ai.y += ai.speed;
      else if(ai.y > target) ai.y -= ai.speed;

      // move puck
      puck.x += puck.dx;
      puck.y += puck.dy;

      // puck trail
      puck.trail.unshift({x: puck.x, y: puck.y});
      if(puck.trail.length > 8) puck.trail.pop();

      // bounce walls
      if(puck.y - puck.r < 0 || puck.y + puck.r > canvas.height) {
        puck.dy *= -1;
      }

      // collisions
      if(puck.x - puck.r < player.x + player.w &&
         puck.y > player.y && puck.y < player.y + player.h) {
        puck.dx = Math.abs(puck.dx);
      }

      if(puck.x + puck.r > ai.x &&
         puck.y > ai.y && puck.y < ai.y + ai.h) {
        puck.dx = -Math.abs(puck.dx);
      }

      // scoring
      if(puck.x < 0) {
        aiScore++;
        resetPuck();
        createConfetti(); // üéâ confetti!
      }
      if(puck.x > canvas.width) {
        playerScore++;
        resetPuck();
        createConfetti(); // üéâ confetti!
      }

      scoreDisplay.textContent = `${playerScore} ‚Äî ${aiScore}`;

      if(playerScore >= maxScore || aiScore >= maxScore) {
        gameOver = true;
        setTimeout(() => alert(playerScore > aiScore ? "YOU WIN! üéâ" : "AI WINS ü§ñ"), 200);
      }
    }

    function draw() {
      drawRink();
      drawObjects();
      drawConfetti();
    }

    function loop() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      update();
      draw();
      requestAnimationFrame(loop);
    }

    // controls
    document.addEventListener("keydown", e => {
      if(e.key === "ArrowUp") player.dy = -7;
      if(e.key === "ArrowDown") player.dy = 7;
    });
    document.addEventListener("keyup", e => {
      if(e.key === "ArrowUp" || e.key === "ArrowDown") player.dy = 0;
    });

    // play again
    document.getElementById("playAgain").addEventListener("click", () => {
      playerScore = 0;
      aiScore = 0;
      gameOver = false;
      resetPuck();
      scoreDisplay.textContent = "0 ‚Äî 0";
    });

    resetPuck();
    loop();
  </script>
</body>
</html>


